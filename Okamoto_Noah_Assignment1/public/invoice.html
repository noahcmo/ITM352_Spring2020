<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <table border="2">
    <tbody>
      <tr>
        <th style="text-align: center;" width="43%">Item</th>
        <th style="text-align: center;" width="11%">quantity</th>
        <th style="text-align: center;" width="13%">price</th>
        <th style="text-align: center;" width="54%">extended price</th>
      </tr>
      <script>
        // Product row 1 
        var extended_price = price[1] * q[1];
        var subtotal = extended_price + subtotal;
        document.write(`
          <tr>
            <td width="43%">${model[1]}</td>
            <td align="center" width="11%">${q[1]}</td>
            <td width="13%">\$${price[1]}</td>
            <td width="54%">\$${extended_price}</td>
          </tr>
          `);

        // Product row 2
        var extended_price = price[2] * q[2];
        var subtotal = extended_price + subtotal;
        document.write(`
          <tr>
            <td width="43%">${item2}</td>
            <td align="center" width="11%">${quantity2}</td>
            <td width="13%">\$${price2}</td>
            <td width="54%">\$${extended_price}</td>
          </tr>
          `);

        // Product row 3
        var extended_price = price3 * quantity3;
        var subtotal = extended_price + subtotal;
        document.write(`
          <tr>
            <td width="43%">${item3}</td>
            <td align="center" width="11%">${quantity3}</td>
            <td width="13%">\$${price3}</td>
            <td width="54%">\$${extended_price}</td>
          </tr>
          `);

        // Product row 4
        var extended_price = price4 * quantity4;
        var subtotal = extended_price + subtotal;
        document.write(`
          <tr>
            <td width="43%">${item4}</td>
            <td align="center" width="11%">${quantity4}</td>
            <td width="13%">\$${price4}</td>
            <td width="54%">\$${extended_price}</td>
          </tr>
          `);

        // Product row 5
        var extended_price = price5 * quantity5;
        var subtotal = extended_price + subtotal;
        document.write(`
          <tr>
            <td width="43%">${item5}</td>
            <td align="center" width="11%">${quantity5}</td>
            <td width="13%">\$${price5}</td>
            <td width="54%">\$${extended_price}</td>
          </tr>
          `);
      </script>
      <script>
        // Compute tax
        var tax_rate = 0.0575
        var tax = tax_rate * subtotal

        // Compute shipping
        if (subtotal < 50) { shipping = 2 }
        else if (subtotal < 100) { shipping = 5 }
        else if (subtotal > 100) { shipping = 0.05 * subtotal }

        // Compute Grand Total 
        var total = subtotal + tax
      </script>
      <tr>
        <td colspan="4" width="100%">&nbsp;</td>
      </tr>
      <tr>
        <td style="text-align: center;" colspan="3" width="67%">Sub-total</td>
        <td width="54%">$
          <script>document.write(subtotal)</script>
        </td>
      </tr>
      <tr>
        <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Tax @ 5.75%</span>
        </td>
        <td width="54%">$
          <script>document.write(tax.toFixed(2))</script>
        </td>
      </tr>
      <tr>
        <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Shipping</span></td>
        <td width="54%">$
          <script>document.write(shipping.toFixed(2))</script>
        </td>
      </tr>
      <tr>
        <td style="text-align: center;" colspan="3" width="67%"><strong>Total</strong></td>
        <td width="54%"><strong>$
            <script>document.write(total.toFixed(2))</script></strong></td>
      </tr>
    </tbody>
  </table>
  <script>

    if (subtotal < 100) { shipping = 4 }
    else if (subtotal < 200) { shipping = 7 }
    else if (subtotal > 200) { shipping = 0.07 * subtotal }

    total = subtotal + tax + shipping;
  </script>

</body>

</html>